2025-05-31 12:53:00,090 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-05-31 12:53:41,998 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-05-31 12:53:44,940 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-05-31 12:54:03,300 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-05-31 12:54:05,958 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-05-31 12:54:09,083 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-05-31 12:54:11,196 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-05-31 12:54:24,158 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-05-31 12:54:26,665 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-05-31 12:54:33,140 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-05-31 12:54:36,635 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-05-31 12:54:56,305 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-05-31 12:55:00,910 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 12:54:20,714 - INFO - Admin Request: GET /admin/shop-admins/ | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'c24368c0-ee4a-468c-85ab-660697e4ccd4', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '146', 'referer': 'http://127.0.0.1:8000/admin/shop-admins', 'host': '127.0.0.1:8000'} | Body: {

        "username": "johndoe",

        "password": "securepass123",

        "email": "johndoe@example.com",

        "role": "manager"

    }
2025-06-03 12:55:40,256 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '9502bdc4-d862-483e-9851-3ca916ddc52e', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '120'} | Body: {

  "username": "johndoe",

  "password": "securepass123",

  "email": "johndoe@example.com",

  "role": "manager"

}


2025-06-03 12:55:40,261 - INFO - Admin Request: POST /admin/shop-admins/ | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '9502bdc4-d862-483e-9851-3ca916ddc52e', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '120', 'referer': 'http://127.0.0.1:8000/admin/shop-admins', 'host': '127.0.0.1:8000'} | Body: {

  "username": "johndoe",

  "password": "securepass123",

  "email": "johndoe@example.com",

  "role": "manager"

}


2025-06-03 12:55:40,272 - ERROR - Unhandled error [5551c266]: NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, johndoe, securepass123, johndoe@example.com, manager, null).
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 12, in create_shop_admin
    await database.execute(query)
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 199, in execute
    return await connection.execute(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 318, in execute
    return await self._connection.execute(built_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\backends\postgres.py", line 141, in execute
    return await self._connection.fetchval(query_str, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 714, in fetchval
    data = await self._execute(query, args, 1, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1864, in _execute
    result, _ = await self.__execute(
                ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1961, in __execute
    result, stmt = await self._do_execute(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 2024, in _do_execute
    result = await executor(stmt, None)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, johndoe, securepass123, johndoe@example.com, manager, null).
2025-06-03 12:56:04,006 - INFO - Admin Request: GET /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '0afd30fe-4e21-4664-9f5e-9706106a4b69', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '120'} | Body: {

  "username": "johndoe",

  "password": "securepass123",

  "email": "johndoe@example.com",

  "role": "manager"

}


2025-06-03 12:56:04,012 - INFO - Admin Request: GET /admin/shop-admins/ | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '0afd30fe-4e21-4664-9f5e-9706106a4b69', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '120', 'referer': 'http://127.0.0.1:8000/admin/shop-admins', 'host': '127.0.0.1:8000'} | Body: {

  "username": "johndoe",

  "password": "securepass123",

  "email": "johndoe@example.com",

  "role": "manager"

}


2025-06-03 12:56:22,077 - INFO - Admin Request: PUT /admin/shop-admins/2196aab4-3eec-4a27-ac75-41ae10643bac | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '912399e8-888f-4f39-8369-dae1fc3e7e0e', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '120'} | Body: {

  "username": "johndoe",

  "password": "securepass123",

  "email": "johndoe@example.com",

  "role": "manager"

}


2025-06-03 12:56:55,476 - INFO - Admin Request: POST /admin/shop-admins/2196aab4-3eec-4a27-ac75-41ae10643bac | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '2b6d19d1-e0e1-4731-a6b7-cd8f1133df3a', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '120'} | Body: {

  "username": "johndoe",

  "password": "securepass123",

  "email": "johndoe@example.com",

  "role": "manager"

}


2025-06-03 12:57:12,831 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'd9afd795-e1df-42ec-94eb-b6bfe19cbbef', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 12:57:12,835 - INFO - Admin Request: POST /admin/shop-admins/ | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'd9afd795-e1df-42ec-94eb-b6bfe19cbbef', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123', 'referer': 'http://127.0.0.1:8000/admin/shop-admins', 'host': '127.0.0.1:8000'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 12:57:12,842 - ERROR - Unhandled error [c19b3af6]: NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, johndone, securepass1234, johndone@example.com, manager, null).
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 12, in create_shop_admin
    await database.execute(query)
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 199, in execute
    return await connection.execute(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 318, in execute
    return await self._connection.execute(built_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\backends\postgres.py", line 141, in execute
    return await self._connection.fetchval(query_str, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 714, in fetchval
    data = await self._execute(query, args, 1, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1864, in _execute
    result, _ = await self.__execute(
                ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1961, in __execute
    result, stmt = await self._do_execute(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 2024, in _do_execute
    result = await executor(stmt, None)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, johndone, securepass1234, johndone@example.com, manager, null).
2025-06-03 12:57:28,971 - INFO - Admin Request: GET /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'f62b8808-1fe7-4e9b-a13b-b4d341b9b038', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 12:57:28,981 - INFO - Admin Request: GET /admin/shop-admins/ | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'f62b8808-1fe7-4e9b-a13b-b4d341b9b038', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123', 'referer': 'http://127.0.0.1:8000/admin/shop-admins', 'host': '127.0.0.1:8000'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 12:57:54,566 - INFO - Admin Request: PUT /admin/shop-admins/2196aab4-3eec-4a27-ac75-41ae10643bac | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '9e6c1972-0aa5-41d3-8ef2-137e03ab0c80', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '121'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "staff"

}


2025-06-03 12:58:13,136 - INFO - Admin Request: PUT /admin/shop-admins/2196aab4-3eec-4a27-ac75-41ae10643bac | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '2d76853d-9133-4df6-80ab-8ef6cff2ada2', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:00:38,755 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:00:43,204 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:00:59,156 - INFO - Admin Request: GET /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '85759a5d-f9b0-4e32-9d44-f37d7b7ae1e2', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:00:59,163 - INFO - Admin Request: GET /admin/shop-admins/ | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '85759a5d-f9b0-4e32-9d44-f37d7b7ae1e2', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123', 'referer': 'http://127.0.0.1:8000/admin/shop-admins', 'host': '127.0.0.1:8000'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:01:09,906 - INFO - Admin Request: DELETE /admin/shop-admins/6cd8434f-5637-4865-ab07-34da97a16840 | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'db191dcb-cf59-49a9-a463-3c1b4820bb10', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:02:00,765 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:02:03,404 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:02:07,017 - INFO - Admin Request: DELETE /admin/shop-admins/6cd8434f-5637-4865-ab07-34da97a16840 | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '14fe6c8a-5f6b-4d57-ba43-a197b65e1cfc', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:02:07,029 - ERROR - Unhandled error [ff28d3ed]: TypeError: Object of type type is not JSON serializable
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\exception_handlers.py", line 15, in http_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\responses.py", line 182, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\responses.py", line 45, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\responses.py", line 185, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\json\encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type type is not JSON serializable
2025-06-03 13:02:36,001 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:02:39,014 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:02:39,034 - INFO - Admin Request: DELETE /admin/shop-admins/6cd8434f-5637-4865-ab07-34da97a16840 | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'dbfd4e52-9cb9-445e-8738-5dda56d41fca', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:02:45,679 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:02:48,725 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:02:48,746 - INFO - Admin Request: DELETE /admin/shop-admins/6cd8434f-5637-4865-ab07-34da97a16840 | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'e9aae390-31f9-43b6-ab4f-8750999f259f', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:03:08,649 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:03:11,869 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:03:14,861 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:03:17,609 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:03:25,830 - INFO - Admin Request: DELETE /admin/shop-admins/6cd8434f-5637-4865-ab07-34da97a16840 | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '04ab81fc-6e8e-4edb-b7d1-f3e70ea753d6', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:03:36,794 - INFO - Admin Request: GET /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '82700fb3-dd85-4538-a36b-529b6723fa72', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:03:36,799 - INFO - Admin Request: GET /admin/shop-admins/ | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '82700fb3-dd85-4538-a36b-529b6723fa72', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123', 'referer': 'http://127.0.0.1:8000/admin/shop-admins', 'host': '127.0.0.1:8000'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:03:48,285 - INFO - Admin Request: DELETE /admin/shop-admins/2196aab4-3eec-4a27-ac75-41ae10643bac | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'f539e7e7-13e5-4fc5-8513-cc229d0164a8', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:03:56,881 - INFO - Admin Request: GET /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'e8afaee6-710b-4704-a05c-db19e7987442', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:03:56,885 - INFO - Admin Request: GET /admin/shop-admins/ | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'e8afaee6-710b-4704-a05c-db19e7987442', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123', 'referer': 'http://127.0.0.1:8000/admin/shop-admins', 'host': '127.0.0.1:8000'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:21:22,948 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'd12056e0-caf2-403b-922e-4444db908f10', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:21:22,961 - INFO - Admin Request: POST /admin/shop-admins/ | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'd12056e0-caf2-403b-922e-4444db908f10', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123', 'referer': 'http://127.0.0.1:8000/admin/shop-admins', 'host': '127.0.0.1:8000'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 13:21:23,244 - ERROR - Unhandled error [1f85bfcd]: NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, johndone, securepass1234, johndone@example.com, manager, null).
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 12, in create_shop_admin
    result = await database.execute(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 199, in execute
    return await connection.execute(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 318, in execute
    return await self._connection.execute(built_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\backends\postgres.py", line 141, in execute
    return await self._connection.fetchval(query_str, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 714, in fetchval
    data = await self._execute(query, args, 1, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1864, in _execute
    result, _ = await self.__execute(
                ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1961, in __execute
    result, stmt = await self._do_execute(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 2024, in _do_execute
    result = await executor(stmt, None)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, johndone, securepass1234, johndone@example.com, manager, null).
2025-06-03 13:57:42,369 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:57:48,025 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:58:31,491 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 13:58:34,707 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:00:42,460 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:00:42,913 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:00:47,651 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:00:53,471 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTM4MjkwfQ.NMTVDimzN1hO4cQTibKxQKSUtiSPWLy8C6Z_oxBO_tI', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '5b4f7644-bbea-42bd-b935-09624b753b1d', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:01:48,852 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMDY5fQ.NLllj37nhHzdoeek5dRpDQgKFPkwWj_Uhy4saJeXI5k', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'ea752993-ff32-424c-8b11-2eaef0c34eac', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:01:48,858 - INFO - Admin Request: POST /admin/shop-admins/ | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMDY5fQ.NLllj37nhHzdoeek5dRpDQgKFPkwWj_Uhy4saJeXI5k', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'ea752993-ff32-424c-8b11-2eaef0c34eac', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123', 'referer': 'http://127.0.0.1:8000/admin/shop-admins', 'host': '127.0.0.1:8000'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:01:48,879 - ERROR - Unhandled error [b801ce8f]: AttributeError: module 'app.models.shop_admin' has no attribute 'insert'
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 22, in create_shop_admin
    query = shop_admin.insert().values(
            ^^^^^^^^^^^^^^^^^
AttributeError: module 'app.models.shop_admin' has no attribute 'insert'
2025-06-03 14:02:13,051 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:02:16,128 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:02:48,927 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:02:52,907 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:03:11,359 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:03:14,460 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:03:30,418 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMDY5fQ.NLllj37nhHzdoeek5dRpDQgKFPkwWj_Uhy4saJeXI5k', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'a14411ac-2c67-4151-afa1-282b4cfe58df', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:03:30,422 - INFO - Admin Request: POST /admin/shop-admins/ | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMDY5fQ.NLllj37nhHzdoeek5dRpDQgKFPkwWj_Uhy4saJeXI5k', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'a14411ac-2c67-4151-afa1-282b4cfe58df', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123', 'referer': 'http://127.0.0.1:8000/admin/shop-admins', 'host': '127.0.0.1:8000'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:03:30,463 - ERROR - Unhandled error [0a0343ea]: NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, johndone, securepass1234, johndone@example.com, manager, null).
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 12, in create_shop_admin
    await database.execute(query)
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 199, in execute
    return await connection.execute(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 318, in execute
    return await self._connection.execute(built_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\backends\postgres.py", line 141, in execute
    return await self._connection.fetchval(query_str, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 714, in fetchval
    data = await self._execute(query, args, 1, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1864, in _execute
    result, _ = await self.__execute(
                ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1961, in __execute
    result, stmt = await self._do_execute(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 2024, in _do_execute
    result = await executor(stmt, None)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, johndone, securepass1234, johndone@example.com, manager, null).
2025-06-03 14:03:40,395 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:03:47,748 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:04:29,926 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '13e90908-6066-4540-88f8-2acadb4495ab', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:04:29,932 - INFO - Admin Request: POST /admin/shop-admins/ | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '13e90908-6066-4540-88f8-2acadb4495ab', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123', 'referer': 'http://127.0.0.1:8000/admin/shop-admins', 'host': '127.0.0.1:8000'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:04:29,947 - ERROR - Unhandled error [dfa90bd2]: NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, johndone, securepass1234, johndone@example.com, manager, null).
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 12, in create_shop_admin
    await database.execute(query)
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 199, in execute
    return await connection.execute(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 318, in execute
    return await self._connection.execute(built_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\backends\postgres.py", line 141, in execute
    return await self._connection.fetchval(query_str, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 714, in fetchval
    data = await self._execute(query, args, 1, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1864, in _execute
    result, _ = await self.__execute(
                ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1961, in __execute
    result, stmt = await self._do_execute(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 2024, in _do_execute
    result = await executor(stmt, None)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, johndone, securepass1234, johndone@example.com, manager, null).
2025-06-03 14:08:01,540 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:08:04,693 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:08:13,221 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:08:16,887 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:14:23,146 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:14:26,898 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:16:23,762 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:16:31,146 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:16:45,362 - INFO - Admin Request: GET /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '74c681f9-4f12-4fb1-b8f7-cf297419d303', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:18:32,409 - INFO - Admin Request: GET /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'bdbb37b8-d53e-4594-8c6e-06ab651e1833', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:18:44,086 - INFO - Admin Request: DELETE /admin/shop-admins/94689c8f-1231-4df2-932f-05b5b92ef53b | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'e349df95-b3d5-4bb9-b546-ecbbee86f764', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:19:41,981 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:19:51,721 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:19:55,316 - INFO - Admin Request: DELETE /admin/shop-admins/94689c8f-1231-4df2-932f-05b5b92ef53b | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '73f37336-66f9-4f4b-ab39-48d5f0a61854', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:20:06,106 - INFO - Admin Request: DELETE /admin/shop-admins/94689c8f-1231-4df2-932f-05b5b92ef53b | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '888182b5-b881-45dd-967f-551a5fd70613', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:20:07,730 - INFO - Admin Request: DELETE /admin/shop-admins/94689c8f-1231-4df2-932f-05b5b92ef53b | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '5e72bf69-483e-4563-ab6d-cf00bebd81c4', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:20:12,351 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:20:15,336 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:20:15,502 - INFO - Admin Request: DELETE /admin/shop-admins/94689c8f-1231-4df2-932f-05b5b92ef53b | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '4b8edc1a-8773-402b-8059-716cf4a678db', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:20:18,260 - INFO - Admin Request: DELETE /admin/shop-admins/94689c8f-1231-4df2-932f-05b5b92ef53b | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'ced3e947-c807-4cb4-9714-f32dbb4bd5bb', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:20:19,826 - INFO - Admin Request: DELETE /admin/shop-admins/94689c8f-1231-4df2-932f-05b5b92ef53b | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '36b75190-02c3-462a-a983-abc7a995282c', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:20:27,174 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:20:29,881 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:20:38,385 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:20:41,398 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:20:42,460 - INFO - Admin Request: DELETE /admin/shop-admins/94689c8f-1231-4df2-932f-05b5b92ef53b | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '3bc45076-c28e-42bc-9758-94bb15114eb6', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:21:00,401 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:21:04,160 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:21:04,174 - INFO - Admin Request: DELETE /admin/shop-admins/94689c8f-1231-4df2-932f-05b5b92ef53b | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'f8024364-adfe-4ea9-bdf0-fdc2744da77a', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:21:15,277 - INFO - Admin Request: GET /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '80e1c03a-daea-476c-a337-48250a9e2f85', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:21:30,686 - INFO - Admin Request: DELETE /admin/shop-admins/68365b58-8157-47bb-95ec-165992d75b02 | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '91b9a662-d42e-4df3-a6b3-a29513936c29', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:22:05,813 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:22:08,639 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:22:11,451 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:22:14,476 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:22:18,379 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:22:21,606 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:22:28,721 - INFO - Admin Request: GET /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'f234c065-4800-426c-a8f4-2dca9e6e0b2d', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:22:38,141 - INFO - Admin Request: DELETE /admin/shop-admins/901e791d-83fe-46ef-924c-f53f2e6691bd | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'f27b32c7-ed79-4e63-868f-efe92da23d08', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:22:38,145 - ERROR - Unhandled error [da529c62]: TypeError: Boolean value of this clause is not defined
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 49, in delete_shop_admin
    if query:
       ^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 756, in __bool__
    raise TypeError("Boolean value of this clause is not defined")
TypeError: Boolean value of this clause is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 49, in delete_shop_admin
    if query:
       ^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 756, in __bool__
    raise TypeError("Boolean value of this clause is not defined")
TypeError: Boolean value of this clause is not defined
2025-06-03 14:22:56,113 - INFO - Admin Request: DELETE /admin/shop-admins/901e791d-83fe-46ef-924c-f53f2e6691bd | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '4a95fa22-5726-4f39-bbc6-efb9a0e205ff', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:22:56,116 - ERROR - Unhandled error [1153ff9e]: TypeError: Boolean value of this clause is not defined
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 49, in delete_shop_admin
    if query:
       ^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 756, in __bool__
    raise TypeError("Boolean value of this clause is not defined")
TypeError: Boolean value of this clause is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 49, in delete_shop_admin
    if query:
       ^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 756, in __bool__
    raise TypeError("Boolean value of this clause is not defined")
TypeError: Boolean value of this clause is not defined
2025-06-03 14:22:58,608 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:23:04,271 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:23:14,106 - INFO - Admin Request: DELETE /admin/shop-admins/901e791d-83fe-46ef-924c-f53f2e6691bd | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '89b89473-19c4-40db-84bf-fbf732b42fc5', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:23:14,112 - ERROR - Unhandled error [ea93eb99]: TypeError: Boolean value of this clause is not defined
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 49, in delete_shop_admin
    if query:
       ^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 756, in __bool__
    raise TypeError("Boolean value of this clause is not defined")
TypeError: Boolean value of this clause is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 49, in delete_shop_admin
    if query:
       ^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 756, in __bool__
    raise TypeError("Boolean value of this clause is not defined")
TypeError: Boolean value of this clause is not defined
2025-06-03 14:23:23,390 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:23:26,476 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:23:42,686 - INFO - Admin Request: GET /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '8c011663-5e46-4fa6-ae0c-585760be92a3', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:24:02,689 - INFO - Admin Request: DELETE /admin/shop-admins/901e791d-83fe-46ef-924c-f53f2e6691bd | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'd310992e-c652-4fed-b30a-cecd3eab2aec', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:24:02,693 - ERROR - Unhandled error [8139f1a4]: TypeError: Boolean value of this clause is not defined
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 50, in delete_shop_admin
    if query:
       ^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 756, in __bool__
    raise TypeError("Boolean value of this clause is not defined")
TypeError: Boolean value of this clause is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 50, in delete_shop_admin
    if query:
       ^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 756, in __bool__
    raise TypeError("Boolean value of this clause is not defined")
TypeError: Boolean value of this clause is not defined
2025-06-03 14:24:12,515 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:24:15,516 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:24:15,534 - INFO - Admin Request: DELETE /admin/shop-admins/901e791d-83fe-46ef-924c-f53f2e6691bd | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '3988e8c0-fc6c-4d58-88e5-f8149474d1d2', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:25:37,932 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:25:41,213 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:25:52,748 - INFO - Admin Request: GET /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'a18047a6-930b-4d4c-b854-4d26ae5d1a25', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:26:03,543 - INFO - Admin Request: DELETE /admin/shop-admins/d315d388-329a-4dfa-831f-77ecd943fae9 | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '18188a5e-810c-41c3-a274-12893b0524b1', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '123'} | Body: {

  "username": "johndone",

  "password": "securepass1234",

  "email": "johndone@example.com",

  "role": "manager"

}


2025-06-03 14:27:30,426 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'b2a009fc-671d-4a1c-bf99-e5e65bc4c03c', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '157'} | Body: {

  "username": "shopadmin1",

  "password": "securepass123",

  "email": "shopadmin1@example.com",

  "role": "manager",

  "notes": "Test shop admin"

}


2025-06-03 14:27:30,448 - ERROR - Unhandled error [0185b3de]: NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, shopadmin1, securepass123, shopadmin1@example.com, manager, 2025-06-03 14:27:30.448593, null, Test shop admin).
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 18, in create_shop_admin
    admin_id = await database.execute(query)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 199, in execute
    return await connection.execute(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 318, in execute
    return await self._connection.execute(built_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\backends\postgres.py", line 141, in execute
    return await self._connection.fetchval(query_str, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 714, in fetchval
    data = await self._execute(query, args, 1, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1864, in _execute
    result, _ = await self.__execute(
                ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1961, in __execute
    result, stmt = await self._do_execute(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 2024, in _do_execute
    result = await executor(stmt, None)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, shopadmin1, securepass123, shopadmin1@example.com, manager, 2025-06-03 14:27:30.448593, null, Test shop admin).
2025-06-03 14:32:18,246 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:32:21,789 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:34:14,348 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:34:17,904 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:34:26,196 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQzMjQyfQ.7IF5qKYqeOucfXhPMbsPBopF-CZu4WICG_DNNu270yA', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '0469653e-18ef-40c1-a0cc-9e55c65c5c87', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '157'} | Body: {

  "username": "shopadmin1",

  "password": "securepass123",

  "email": "shopadmin1@example.com",

  "role": "manager",

  "notes": "Test shop admin"

}


2025-06-03 14:34:26,248 - ERROR - Unhandled error [58616f05]: NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, shopadmin1, securepass123, shopadmin1@example.com, manager, 2025-06-03 14:34:26.226278, null, Test shop admin).
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 21, in create_shop_admin
    admin_id = await database.execute(query)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 199, in execute
    return await connection.execute(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 318, in execute
    return await self._connection.execute(built_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\backends\postgres.py", line 141, in execute
    return await self._connection.fetchval(query_str, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 714, in fetchval
    data = await self._execute(query, args, 1, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1864, in _execute
    result, _ = await self.__execute(
                ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1961, in __execute
    result, stmt = await self._do_execute(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 2024, in _do_execute
    result = await executor(stmt, None)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, shopadmin1, securepass123, shopadmin1@example.com, manager, 2025-06-03 14:34:26.226278, null, Test shop admin).
2025-06-03 14:34:30,819 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:35:08,783 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:35:56,819 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQ1MTI1fQ.HEUa6fW40RixDIZdnbAVmGTMhjLClNGGnPShY0wEL_U', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '34d44883-4c21-431e-a4fe-b49a05268a4b', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '157'} | Body: {

  "username": "shopadmin1",

  "password": "securepass123",

  "email": "shopadmin1@example.com",

  "role": "manager",

  "notes": "Test shop admin"

}


2025-06-03 14:35:56,854 - ERROR - Unhandled error [453c6b36]: NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, shopadmin1, securepass123, shopadmin1@example.com, manager, 2025-06-03 14:35:56.845959, null, Test shop admin).
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 21, in create_shop_admin
    admin_id = await database.execute(query)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 199, in execute
    return await connection.execute(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 318, in execute
    return await self._connection.execute(built_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\backends\postgres.py", line 141, in execute
    return await self._connection.fetchval(query_str, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 714, in fetchval
    data = await self._execute(query, args, 1, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1864, in _execute
    result, _ = await self.__execute(
                ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1961, in __execute
    result, stmt = await self._do_execute(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 2024, in _do_execute
    result = await executor(stmt, None)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, shopadmin1, securepass123, shopadmin1@example.com, manager, 2025-06-03 14:35:56.845959, null, Test shop admin).
2025-06-03 14:36:30,952 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQ1MTI1fQ.HEUa6fW40RixDIZdnbAVmGTMhjLClNGGnPShY0wEL_U', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '3ffb89e2-cfcc-475f-bc49-796561394e38', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '182'} | Body: {

    "admin_id":1233455,

  "username": "shopadmin1",

  "password": "securepass123",

  "email": "shopadmin1@example.com",

  "role": "manager",

  "notes": "Test shop admin"

}


2025-06-03 14:36:30,963 - ERROR - Unhandled error [6a37ca26]: NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, shopadmin1, securepass123, shopadmin1@example.com, manager, 2025-06-03 14:36:30.959721, null, Test shop admin).
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 21, in create_shop_admin
    admin_id = await database.execute(query)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 199, in execute
    return await connection.execute(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 318, in execute
    return await self._connection.execute(built_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\backends\postgres.py", line 141, in execute
    return await self._connection.fetchval(query_str, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 714, in fetchval
    data = await self._execute(query, args, 1, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1864, in _execute
    result, _ = await self.__execute(
                ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1961, in __execute
    result, stmt = await self._do_execute(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 2024, in _do_execute
    result = await executor(stmt, None)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, shopadmin1, securepass123, shopadmin1@example.com, manager, 2025-06-03 14:36:30.959721, null, Test shop admin).
2025-06-03 14:36:55,411 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:36:59,194 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:37:11,524 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:37:16,995 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQ1MTI1fQ.HEUa6fW40RixDIZdnbAVmGTMhjLClNGGnPShY0wEL_U', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'd158205f-af88-476c-bd4e-f482904e23db', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '163'} | Body: {

    

  "username": "shopadmin1",

  "password": "securepass123",

  "email": "shopadmin1@example.com",

  "role": "manager",

  "notes": "Test shop admin"

}


2025-06-03 14:37:17,039 - ERROR - Unhandled error [7b44db23]: NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, shopadmin1, securepass123, shopadmin1@example.com, manager, 2025-06-03 14:37:17.036669, null, Test shop admin).
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 31, in create_shop_admin
    admin_id = await database.execute(query)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 199, in execute
    return await connection.execute(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 318, in execute
    return await self._connection.execute(built_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\backends\postgres.py", line 141, in execute
    return await self._connection.fetchval(query_str, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 714, in fetchval
    data = await self._execute(query, args, 1, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1864, in _execute
    result, _ = await self.__execute(
                ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1961, in __execute
    result, stmt = await self._do_execute(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 2024, in _do_execute
    result = await executor(stmt, None)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, shopadmin1, securepass123, shopadmin1@example.com, manager, 2025-06-03 14:37:17.036669, null, Test shop admin).
2025-06-03 14:38:49,752 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:38:54,697 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:39:47,294 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:39:52,624 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:40:46,569 - INFO - Admin Request: GET /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQ1NDA0fQ.4kMPG9YNGPIhzvaKCDYCcf3ubo4oXPPoxF1InsMn8Ek', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'fd7071f0-1a42-4a7c-8476-868c6d3f377d', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '167'} | Body: {

    

  "username": "shopadmin1",

  "password": "securepass123",

  "email": "shopadmin1@example.com",

  "role": "manager",

  

  "notes": "Test shop admin"

}


2025-06-03 14:41:17,897 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQ1NDA0fQ.4kMPG9YNGPIhzvaKCDYCcf3ubo4oXPPoxF1InsMn8Ek', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '6ab76992-ee52-44ed-9d01-2479f91f76b0', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '157'} | Body: {

  "username": "shopadmin1",

  "password": "securepass123",

  "email": "shopadmin1@example.com",

  "role": "manager",

  "notes": "Test shop admin"

}


2025-06-03 14:41:17,920 - ERROR - Unhandled error [7db91de8]: NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, shopadmin1, securepass123, shopadmin1@example.com, manager, 2025-06-03 14:41:17.917424, null, Test shop admin).
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\shop_admin.py", line 17, in create_shop_admin
    admin_id = await database.execute(query)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 199, in execute
    return await connection.execute(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 318, in execute
    return await self._connection.execute(built_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\backends\postgres.py", line 141, in execute
    return await self._connection.fetchval(query_str, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 714, in fetchval
    data = await self._execute(query, args, 1, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1864, in _execute
    result, _ = await self.__execute(
                ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 1961, in __execute
    result, stmt = await self._do_execute(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\asyncpg\connection.py", line 2024, in _do_execute
    result = await executor(stmt, None)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "admin_id" of relation "shop_admins" violates not-null constraint
DETAIL:  Failing row contains (null, shopadmin1, securepass123, shopadmin1@example.com, manager, 2025-06-03 14:41:17.917424, null, Test shop admin).
2025-06-03 14:56:01,487 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:56:08,545 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:56:29,487 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 14:56:36,467 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQ1NDA0fQ.4kMPG9YNGPIhzvaKCDYCcf3ubo4oXPPoxF1InsMn8Ek', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '885afdaa-bbc3-416c-8972-1b92f46caac7', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '157'} | Body: {

  "username": "shopadmin1",

  "password": "securepass123",

  "email": "shopadmin1@example.com",

  "role": "manager",

  "notes": "Test shop admin"

}


2025-06-03 14:56:56,846 - INFO - Admin Request: POST /admin/shop-admins | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQ1NDA0fQ.4kMPG9YNGPIhzvaKCDYCcf3ubo4oXPPoxF1InsMn8Ek', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '624d8f7e-3804-4035-b342-40ccad18d572', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '168'} | Body: {

  "username": "shopadmin12333",

  "password": "securepass12345555",

  "email": "shopadmin23231@example.com",

  "role": "staff",

  "notes": "Test shop admin"

}


2025-06-03 14:57:45,760 - INFO - Admin Request: PUT /admin/shop-admins/abf4f53d-948e-4098-9f51-c4ab4a0d4abb | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQ1NDA0fQ.4kMPG9YNGPIhzvaKCDYCcf3ubo4oXPPoxF1InsMn8Ek', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '2efd3483-8c21-4df5-b0b8-cb2e2cdb81d2', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-03 14:58:48,687 - INFO - Admin Request: DELETE /admin/shop-admins/abf4f53d-948e-4098-9f51-c4ab4a0d4abb | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQ1NDA0fQ.4kMPG9YNGPIhzvaKCDYCcf3ubo4oXPPoxF1InsMn8Ek', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '51f2c4de-562f-4a9f-8c98-b39663663660', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-03 15:19:28,752 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-03 15:58:20,611 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:08:18,954 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:11:46,972 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:13:16,703 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:13:27,988 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:13:59,811 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:20:39,967 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:21:57,142 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:22:11,938 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:22:14,823 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:28:49,582 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:29:37,028 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:32:07,458 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:32:56,230 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:33:22,724 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:34:29,552 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:35:39,933 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:35:44,417 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:35:50,014 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:35:56,834 - INFO - Admin Request: POST /admin/auth/admin-login | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ4OTQ1NDA0fQ.4kMPG9YNGPIhzvaKCDYCcf3ubo4oXPPoxF1InsMn8Ek', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '582461e5-d4ea-49c9-967b-ddd3394c9726', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 10:38:37,615 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE3MTczfQ.usgGDe6kEFddrcm8cvsXB3CIU8ygboiW9mK4ziLjvgM', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '88706aaf-c3c8-4fe7-86d8-8f7438c53c45', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 10:38:37,619 - ERROR - Unhandled error [e64da8f0]: AttributeError: 'Request' object has no attribute '__name__'
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?
2025-06-04 10:38:38,547 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE3MTczfQ.usgGDe6kEFddrcm8cvsXB3CIU8ygboiW9mK4ziLjvgM', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '98132460-09e8-4728-ae79-62378c787867', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 10:38:38,552 - ERROR - Unhandled error [44ca72b0]: AttributeError: 'Request' object has no attribute '__name__'
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?
2025-06-04 10:38:39,550 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE3MTczfQ.usgGDe6kEFddrcm8cvsXB3CIU8ygboiW9mK4ziLjvgM', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '45d759cc-f6b2-44d4-885a-34326d091991', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 10:38:39,551 - ERROR - Unhandled error [e26289bc]: AttributeError: 'Request' object has no attribute '__name__'
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?
2025-06-04 10:38:40,432 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE3MTczfQ.usgGDe6kEFddrcm8cvsXB3CIU8ygboiW9mK4ziLjvgM', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '2ca15a64-1bcb-4601-948e-d8b429f20b24', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 10:38:40,433 - ERROR - Unhandled error [2503e655]: AttributeError: 'Request' object has no attribute '__name__'
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?
2025-06-04 10:38:41,250 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE3MTczfQ.usgGDe6kEFddrcm8cvsXB3CIU8ygboiW9mK4ziLjvgM', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '8e9952be-9b0c-4e18-bae3-67b054b421ff', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 10:38:41,252 - ERROR - Unhandled error [3b8f3172]: AttributeError: 'Request' object has no attribute '__name__'
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?
2025-06-04 10:40:50,969 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE3MTczfQ.usgGDe6kEFddrcm8cvsXB3CIU8ygboiW9mK4ziLjvgM', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'b9df2795-1b68-422d-8ee1-ecb962fad17a', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 10:40:50,973 - ERROR - Unhandled error [8aa045f8]: AttributeError: 'Request' object has no attribute '__name__'
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?
2025-06-04 10:42:04,796 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE3MTczfQ.usgGDe6kEFddrcm8cvsXB3CIU8ygboiW9mK4ziLjvgM', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '6e914f53-0a5c-4536-939d-9ea090ffab56', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 10:42:04,803 - ERROR - Unhandled error [248477cb]: AttributeError: 'Request' object has no attribute '__name__'
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 45, in get_activity_logs
    await limiter.limit("5/minute")(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 664, in decorator
    name = f"{func.__module__}.{func.__name__}"
                                ^^^^^^^^^^^^^
AttributeError: 'Request' object has no attribute '__name__'. Did you mean: '__ne__'?
2025-06-04 10:43:13,834 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:49:57,002 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:50:06,024 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE3MTczfQ.usgGDe6kEFddrcm8cvsXB3CIU8ygboiW9mK4ziLjvgM', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '4c88df57-4ca9-487f-9dd0-340de6bb8ded', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 10:50:06,029 - ERROR - Unhandled error [bc0a6827]: Exception: No "request" or "websocket" argument on function "<function get_activity_logs.<locals>.<lambda> at 0x0000026C559B7420>"
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 60, in get_activity_logs
    await limiter.limit("5/minute")(lambda req: None)(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 713, in decorator
    raise Exception(
Exception: No "request" or "websocket" argument on function "<function get_activity_logs.<locals>.<lambda> at 0x0000026C559B6DE0>"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\admin.py", line 60, in get_activity_logs
    await limiter.limit("5/minute")(lambda req: None)(request)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\slowapi\extension.py", line 713, in decorator
    raise Exception(
Exception: No "request" or "websocket" argument on function "<function get_activity_logs.<locals>.<lambda> at 0x0000026C559B7420>"
2025-06-04 10:53:19,726 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 10:56:54,093 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:12:08,393 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:12:15,676 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:13:46,192 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:13:52,386 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:15:10,742 - INFO - Admin Request: GET /admin/promotions | Headers: {'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://127.0.0.1:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,mr;q=0.8', 'cookie': '_ga=GA1.1.1108965863.1728643591; _ga_699NE13B0K=GS1.1.1734424961.23.0.1734424961.0.0.0'} | Body: 
2025-06-04 11:16:53,470 - INFO - Admin Request: GET /admin/promotions | Headers: {'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://127.0.0.1:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,mr;q=0.8', 'cookie': '_ga=GA1.1.1108965863.1728643591; _ga_699NE13B0K=GS1.1.1734424961.23.0.1734424961.0.0.0'} | Body: 
2025-06-04 11:17:52,857 - INFO - Admin Request: GET /admin/promotions | Headers: {'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://127.0.0.1:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,mr;q=0.8', 'cookie': '_ga=GA1.1.1108965863.1728643591; _ga_699NE13B0K=GS1.1.1734424961.23.0.1734424961.0.0.0'} | Body: 
2025-06-04 11:17:53,748 - INFO - Admin Request: GET /admin/promotions | Headers: {'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://127.0.0.1:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,mr;q=0.8', 'cookie': '_ga=GA1.1.1108965863.1728643591; _ga_699NE13B0K=GS1.1.1734424961.23.0.1734424961.0.0.0'} | Body: 
2025-06-04 11:17:54,575 - INFO - Admin Request: GET /admin/promotions | Headers: {'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'accept': 'application/json', 'sec-ch-ua': '"Google Chrome";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://127.0.0.1:8000/docs', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,mr;q=0.8', 'cookie': '_ga=GA1.1.1108965863.1728643591; _ga_699NE13B0K=GS1.1.1734424961.23.0.1734424961.0.0.0'} | Body: 
2025-06-04 11:18:33,321 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:18:42,302 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:19:24,860 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE5NzM5fQ.vcxTs-Gns5SS_pEbVsPpyZ_FQSB706JHaCglEOwvonE', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'f18313a0-a108-450c-8978-1de04a3bcb82', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 11:21:37,009 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:21:40,607 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:25:40,017 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE5NzM5fQ.vcxTs-Gns5SS_pEbVsPpyZ_FQSB706JHaCglEOwvonE', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '3d675d0c-2ea4-4849-8a3a-ebc8a347d506', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 11:25:41,450 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE5NzM5fQ.vcxTs-Gns5SS_pEbVsPpyZ_FQSB706JHaCglEOwvonE', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'ef0eee42-0b60-431a-8c11-1e0917c54598', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 11:25:42,593 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE5NzM5fQ.vcxTs-Gns5SS_pEbVsPpyZ_FQSB706JHaCglEOwvonE', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '4851ff7c-7db1-46f0-b8b8-5377b1010952', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 11:25:43,795 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE5NzM5fQ.vcxTs-Gns5SS_pEbVsPpyZ_FQSB706JHaCglEOwvonE', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '45fb2888-e3ef-45f5-bc6d-61ca47015d2d', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 11:25:44,886 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE5NzM5fQ.vcxTs-Gns5SS_pEbVsPpyZ_FQSB706JHaCglEOwvonE', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '604df18d-4607-47f7-99cf-b23b946885f3', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 11:25:45,970 - INFO - Admin Request: GET /admin/activity-logs | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE5NzM5fQ.vcxTs-Gns5SS_pEbVsPpyZ_FQSB706JHaCglEOwvonE', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '5fc10ee6-4f56-4433-9ae9-8e055d97b620', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 11:25:45,970 - WARNING - ratelimit 5 per 1 minute (127.0.0.1) exceeded at endpoint: /admin/activity-logs
2025-06-04 11:33:46,048 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:37:43,573 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:39:13,394 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:40:15,594 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:40:27,234 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:40:31,351 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:40:36,291 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:40:41,361 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 11:40:45,680 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:04:07,325 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:04:13,525 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:04:28,197 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:04:30,827 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:04:44,697 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:04:47,287 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:11:42,377 - INFO - Admin Request: GET /admin/analytics/daily-sales | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE5NzM5fQ.vcxTs-Gns5SS_pEbVsPpyZ_FQSB706JHaCglEOwvonE', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '1812e32d-dca7-43bd-bf08-08e57b998798', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 12:11:42,570 - ERROR - Unhandled error [4f30037c]: AttributeError: 'TextClause' object has no attribute 'values'
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\analytics.py", line 17, in get_daily_sales
    results = await database.fetch_all(query, {"date": date_filter})
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 174, in fetch_all
    return await connection.fetch_all(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 288, in fetch_all
    built_query = self._build_query(query, values)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 359, in _build_query
    return query.values(**values)  # type: ignore
           ^^^^^^^^^^^^
AttributeError: 'TextClause' object has no attribute 'values'
2025-06-04 12:14:31,935 - INFO - Admin Request: GET /admin/analytics | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE5NzM5fQ.vcxTs-Gns5SS_pEbVsPpyZ_FQSB706JHaCglEOwvonE', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '9c05ab6b-26b4-4011-a811-79fbde8b4bca', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 12:15:11,390 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:15:16,118 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:15:23,988 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:16:57,492 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:17:33,367 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:17:38,485 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:18:29,492 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:18:32,565 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:18:33,544 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:18:36,214 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:19:04,552 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:19:07,322 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:19:59,679 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:20:03,166 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:20:16,084 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:20:19,268 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:20:27,864 - INFO - Admin Request: GET /admin/analytics/all-sales | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDE5NzM5fQ.vcxTs-Gns5SS_pEbVsPpyZ_FQSB706JHaCglEOwvonE', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'be32432c-1fb3-4fa3-a855-6f46dca94cc0', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 12:21:20,727 - INFO - Admin Request: GET /admin/analytics/all-sales | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDIzNDQ0fQ.1cEls8T__Bp_GqiPdMPmCG7rkSZUqpTrteFyi-frEY0', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '96482421-7042-4bcf-873e-21b8cea1a25d', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 12:22:03,669 - INFO - Admin Request: GET /admin/analytics/daily-sales | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDIzNDQ0fQ.1cEls8T__Bp_GqiPdMPmCG7rkSZUqpTrteFyi-frEY0', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'df5bea3c-3af3-468f-acc6-54cccd874c79', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 12:22:03,676 - ERROR - Unhandled error [1ab69ed1]: AttributeError: 'TextClause' object has no attribute 'values'
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\analytics.py", line 18, in get_daily_sales
    results = await database.fetch_all(query, {"date": date_filter})
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 174, in fetch_all
    return await connection.fetch_all(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 288, in fetch_all
    built_query = self._build_query(query, values)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 359, in _build_query
    return query.values(**values)  # type: ignore
           ^^^^^^^^^^^^
AttributeError: 'TextClause' object has no attribute 'values'
2025-06-04 12:24:54,772 - INFO - Admin Request: GET /admin/analytics/daily-sales | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDIzNDQ0fQ.1cEls8T__Bp_GqiPdMPmCG7rkSZUqpTrteFyi-frEY0', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '24565229-ceb2-4821-8091-ee330bfc3642', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 12:24:54,777 - ERROR - Unhandled error [22049c33]: AttributeError: 'TextClause' object has no attribute 'values'
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\analytics.py", line 18, in get_daily_sales
    results = await database.fetch_all(query, {"date": date_filter})
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 174, in fetch_all
    return await connection.fetch_all(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 288, in fetch_all
    built_query = self._build_query(query, values)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 359, in _build_query
    return query.values(**values)  # type: ignore
           ^^^^^^^^^^^^
AttributeError: 'TextClause' object has no attribute 'values'
2025-06-04 12:25:31,259 - INFO - Admin Request: GET /admin/analytics/all-sales | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDIzNDQ0fQ.1cEls8T__Bp_GqiPdMPmCG7rkSZUqpTrteFyi-frEY0', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'b9fc3343-0219-455e-a640-7cecf6d36747', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 12:30:51,147 - INFO - Admin Request: GET /admin/analytics/monthly-sales | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDIzNDQ0fQ.1cEls8T__Bp_GqiPdMPmCG7rkSZUqpTrteFyi-frEY0', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': 'fdf34aea-a3c7-43ff-8784-066f30aeb2f1', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 12:30:51,362 - ERROR - Unhandled error [1a7888c3]: AttributeError: 'TextClause' object has no attribute 'values'
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\analytics.py", line 40, in get_monthly_sales
    results = await database.fetch_all(query, {"month": month, "year": year})
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 174, in fetch_all
    return await connection.fetch_all(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 288, in fetch_all
    built_query = self._build_query(query, values)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 359, in _build_query
    return query.values(**values)  # type: ignore
           ^^^^^^^^^^^^
AttributeError: 'TextClause' object has no attribute 'values'
2025-06-04 12:31:46,663 - INFO - Admin Request: GET /admin/analytics/daily-sales | Headers: {'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJtYWxsX2FkbWluIiwiZXhwIjoxNzQ5MDIzNDQ0fQ.1cEls8T__Bp_GqiPdMPmCG7rkSZUqpTrteFyi-frEY0', 'content-type': 'application/json', 'user-agent': 'PostmanRuntime/7.44.0', 'accept': '*/*', 'cache-control': 'no-cache', 'postman-token': '3af80a83-d63e-4a79-bcbd-eceacec37422', 'host': '127.0.0.1:8000', 'accept-encoding': 'gzip, deflate, br', 'connection': 'keep-alive', 'content-length': '86'} | Body: {

  "role": "staff",

  "status": "suspended",

  "notes": "Temporarily suspended"

}
2025-06-04 12:31:46,669 - ERROR - Unhandled error [30d0bce3]: AttributeError: 'TextClause' object has no attribute 'values'
Traceback (most recent call last):
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 26, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\app\middleware\error_handler.py", line 208, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\sanhri_backend\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\app\api\analytics.py", line 18, in get_daily_sales
    results = await database.fetch_all(query, {"date": date_filter})
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 174, in fetch_all
    return await connection.fetch_all(query, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 288, in fetch_all
    built_query = self._build_query(query, values)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sanhri_backend\venv\Lib\site-packages\databases\core.py", line 359, in _build_query
    return query.values(**values)  # type: ignore
           ^^^^^^^^^^^^
AttributeError: 'TextClause' object has no attribute 'values'
2025-06-04 12:32:54,241 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:32:58,757 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:33:02,488 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:33:20,727 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-04 12:33:24,269 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri

2025-06-05 19:57:07,078 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:30:19,593 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:32:16,834 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:32:20,552 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:32:35,415 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:32:37,933 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:32:43,252 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:32:45,871 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:32:46,146 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:33:03,456 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:34:40,700 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:34:40,700 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:34:51,331 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:37:47,831 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:37:51,371 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:38:46,612 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:38:49,468 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:38:49,672 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:38:49,674 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:38:56,422 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:39:00,128 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:39:05,165 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:41:17,867 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:41:23,032 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:41:23,032 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:41:25,262 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:41:25,268 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:42:49,238 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:42:52,393 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:42:59,635 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:43:02,428 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:43:24,790 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:43:28,319 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:43:30,718 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:43:30,962 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:43:30,965 - ERROR - Exception in callback PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()
handle: <Handle PollerCompletionQueue._handle_events(<_WindowsSele...e debug=False>)()>
Traceback (most recent call last):
  File "C:\Users\Dell\AppData\Local\Programs\Python\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "src/python/grpcio/grpc/_cython/_cygrpc/aio/completion_queue.pyx.pxi", line 147, in grpc._cython.cygrpc.PollerCompletionQueue._handle_events
BlockingIOError: [WinError 10035] A non-blocking socket operation could not be completed immediately
2025-06-05 20:50:09,282 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:50:13,668 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-05 20:50:13,908 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-06 17:21:20,690 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-06 17:21:28,868 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-06 17:21:34,944 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-06 17:21:44,976 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-06 17:24:33,459 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-06 17:25:00,335 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-06 17:25:50,741 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-06 17:26:18,810 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-06 17:26:21,269 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-06 17:26:38,239 - INFO - GET /health - 200 - 17.7ms | IP: 127.0.0.1 | UA: PostmanRuntime/7.44.0
2025-06-06 17:27:49,976 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-06 17:28:53,175 - INFO - Connected to database postgresql+asyncpg://postgres:********@localhost/sanhri
2025-06-06 17:29:00,604 - INFO - GET /health/detailed - 200 - 1162.01ms | IP: 127.0.0.1 | UA: PostmanRuntime/7.44.0
2025-06-06 17:29:41,660 - INFO - GET /health/readiness - 200 - 3.45ms | IP: 127.0.0.1 | UA: PostmanRuntime/7.44.0
2025-06-06 17:29:57,873 - INFO - Disconnected from database postgresql+asyncpg://postgres:********@localhost/sanhri
